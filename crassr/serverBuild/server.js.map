{"version":3,"file":"server.js","mappings":"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","sources":["webpack://crassr/./server/apiFetch.js","webpack://crassr/external commonjs \"react-dom/server\"","webpack://crassr/./server/appHtml.js","webpack://crassr/./server/browserEnv.js","webpack://crassr/./server/routes.js","webpack://crassr/external commonjs \"@babel/runtime/helpers/extends\"","webpack://crassr/external commonjs \"react-bootstrap/Table\"","webpack://crassr/./src/components/Common/metaTags.jsx","webpack://crassr/./src/utils/meta.js","webpack://crassr/./src/apiHandler/homepageApi.js","webpack://crassr/./src/routes/index.js","webpack://crassr/./src/components/Homepage/homepage.jsx","webpack://crassr/./src/store/HomePage/actions.js","webpack://crassr/external commonjs \"@babel/runtime/helpers/toConsumableArray\"","webpack://crassr/external commonjs \"redux-saga\"","webpack://crassr/external commonjs \"redux\"","webpack://crassr/./src/store/HomePage/reducers.js","webpack://crassr/./src/store/allReducers.js","webpack://crassr/external commonjs \"redux-saga/effects\"","webpack://crassr/./src/store/HomePage/Api.js","webpack://crassr/./src/store/HomePage/saga.js","webpack://crassr/./src/store/sagas.js","webpack://crassr/./src/store/index.js","webpack://crassr/external commonjs \"@babel/runtime/helpers/asyncToGenerator\"","webpack://crassr/external commonjs \"@babel/runtime/regenerator\"","webpack://crassr/external commonjs \"@reduxjs/toolkit\"","webpack://crassr/external commonjs \"express\"","webpack://crassr/external commonjs \"jsdom\"","webpack://crassr/external commonjs \"localstorage-polyfill\"","webpack://crassr/external commonjs \"react\"","webpack://crassr/external commonjs \"react-helmet\"","webpack://crassr/external commonjs \"react-redux\"","webpack://crassr/external commonjs \"react-router-config\"","webpack://crassr/external commonjs \"react-router-dom\"","webpack://crassr/external commonjs \"sessionstorage-polyfill\"","webpack://crassr/external node-commonjs \"path\"","webpack://crassr/webpack/bootstrap","webpack://crassr/webpack/runtime/compat get default export","webpack://crassr/webpack/runtime/define property getters","webpack://crassr/webpack/runtime/hasOwnProperty shorthand","webpack://crassr/./server/index.js"],"sourcesContent":["const fetchApiData = async ({ dispatch }, params, actionGroup, resolve, reject) => {\r\n\tlet actionList = actionGroup(params);\r\n\tlet results = [];\r\n\r\n\ttry {\r\n\t\tresults = await Promise.all((actionList || []).map((caller, index) => {\r\n\t\t\tlet data = caller.payload;\r\n\t\t\tconsole.log(\"caller\", dispatch)\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tconsole.log(\"dispatch\", caller['action']({ data, resolve, reject }))\r\n\t\t\t\t\r\n\t\t\t\tdispatch(caller['action']({ data, resolve, reject }))\r\n\t\t\t})\r\n\t\t}))\r\n\t}\r\n\tcatch (error) {\r\n\t\tconsole.error('Error occured in fetching Apis ', error);\r\n\t\treject(error)\r\n\t}\r\n\treturn resolve(results);\r\n}\r\n\r\nexport default fetchApiData;","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"react-dom/server\");","\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport { StaticRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport store from 'store/index';\r\nimport React from 'react';\r\nimport { renderRoutes } from 'react-router-config';\r\n\r\nconst render = (req, routes) => {\r\n    const context = { serverRender: true }\r\n    const appHtml = ReactDOMServer.renderToString(\r\n        < Provider store={store}>\r\n            <StaticRouter location={req.url} context={context}>\r\n                {renderRoutes(routes)}\r\n            </StaticRouter>\r\n        </ Provider>\r\n    );\r\n\r\n    return appHtml;\r\n}\r\n\r\nexport default render;","const jsdom = require(\"jsdom\");\r\n\r\n\r\nmodule.exports = function() {\r\n    const { JSDOM } = jsdom;\r\n    const { window } = new JSDOM(``, {\r\n        url: \"https://extramarks.com/\",\r\n    })\r\n    const { document, navigator } = window\r\n \r\n    global.document = document\r\n    global.window = window\r\n    global.navigator = navigator\r\n    require('sessionstorage-polyfill')\r\n    require('localstorage-polyfill')\r\n}","module.exports = [\r\n    '/'\r\n]\r\n\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/extends\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"react-bootstrap/Table\");","import React from 'react';\r\nimport { metaContent } from 'utils/meta';\r\nimport {Helmet} from \"react-helmet\"\r\n\r\nconst MetaTags = () => {\r\n\r\n    const { description, ogTitle, ogDescription } = metaContent\r\n\r\n    return (\r\n        <Helmet>\r\n            <meta name=\"description\" content={description} />\r\n            <meta name=\"og:title\" content={ogTitle} />\r\n            <meta name=\"og:description\" content={ogDescription} />\r\n        </Helmet>\r\n    )\r\n}\r\n\r\nexport default MetaTags;","export const metaContent = {\r\n    description:\"description\",\r\n    ogTitle:\"ogTitles\",\r\n    ogDescription:\"OG description\"\r\n}","import {\n fetchShoppingList,\n} from 'store/HomePage/actions';\n\nexport const getHomepageActions = () => {\n    return [\n        { action: fetchShoppingList, payload: {} },\n    ]\n}\n\n","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport HomePageContainer from 'components/Homepage/homepage';\nimport { getHomepageActions } from \"../apiHandler/homepageApi\";\n\nconst DesktopAppRouter = () => {\n    console.log(\"desktop app router\")\n    return (\n    <div>\n        <Switch>\n            {routes.map((route, i) => <Route key = {i} path={route.path} exact={route.exact} render={(props) => <route.component {...props} routes={route.routes} />} />\n            )}\n        </Switch>\n    </div>\n)};\n\nexport const routes = [\n    {\n        path: '/',\n        component: HomePageContainer,\n        actionGroup: getHomepageActions,\n        exact: true\n    }\n]\n\nexport default DesktopAppRouter;","import React, { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport Table from 'react-bootstrap/Table'\r\nimport { fetchShoppingList } from 'store/HomePage/actions'\r\nimport MetaTags from 'components/Common/metaTags'\r\nimport './homepage.css'\r\n\r\nconst Homepage = () => {\r\n   \r\n    const dispatch = useDispatch()\r\n\r\n    const { shoppingList } = useSelector(state => state.home)\r\n    window.scrollTo(0, 0)\r\n    useEffect(() => {\r\n    \r\n        new Promise((resolve, reject) => dispatch(fetchShoppingList({ payload: {}, resolve, reject })))\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n        <MetaTags/>\r\n        <div className = \"container\">\r\n         <Table striped bordered hover variant=\"dark\">\r\n            <thead>\r\n                <tr>\r\n                    <th>#</th>\r\n                    <th>Shopping Site</th>\r\n                    <th>Username</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n               \r\n                {\r\n                    shoppingList?.map((site) => {\r\n                        return (\r\n                            <tr>\r\n                            <td>{site.id}</td>\r\n                            <td>{site.name}</td>\r\n                            <td>{site.username}</td>\r\n                        </tr>\r\n                        )\r\n                    })\r\n                }\r\n            </tbody>\r\n        </Table>\r\n        </div>\r\n        </>\r\n       \r\n    )\r\n}\r\n\r\nexport default Homepage;\r\n","import { createAction } from '@reduxjs/toolkit';\n\nconst fetchShoppingList = createAction('FETCH_SHOPPING_LIST');\nconst shoppingListFetched = createAction('SHOPPING_LIST_FETCHED');\n\n\nexport {\n    shoppingListFetched,\n    fetchShoppingList\n}","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/toConsumableArray\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"redux-saga\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"redux\");","import {\n    shoppingListFetched\n} from './actions';\n\nconst shoppingListState = {\n    shoppingList: []\n}\n\nexport const HomepageReducer = (state = shoppingListState, action) => {\n    switch (action.type) {\n        case shoppingListFetched.type: return { shoppingList: action.payload.item }\n        default: return state;\n    }\n}\n","import { combineReducers } from 'redux';\nimport { HomepageReducer } from './HomePage/reducers';\n\nconst rootReducer = combineReducers({\n    home: HomepageReducer\n\n});\n\n\nexport default rootReducer;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"redux-saga/effects\");","\nconst fetchShoppingList = (data) => {\n    return new Promise((resolve, reject) => resolve([{\n        id: 1, name: 'Amazon', username: 'dp123'\n    },\n    {\n        id: 1, name: 'Nykaa', username: 'dp456'\n    },\n    {\n        id: 1, name: 'Flipkart', username: 'dp345'\n    },\n    {\n        id: 1, name: 'Myntra', username: 'dp678'\n    }]))\n}\n\nexport default {\n    fetchShoppingList,\n}\n\n","import { takeLatest, call, put } from 'redux-saga/effects';\nimport Api from './Api';\nimport { fetchShoppingList, shoppingListFetched } from './actions';\n\n\n\n\nfunction* shopping(action){\n    console.log(\"welcome to shopping\")\n    const {payload: {resolve, reject}} = action;\n    try{\n    \n        const response = yield call(Api.fetchShoppingList);\n        console.log(\"response\", response)\n        if(response?.error){\n            return reject(response);\n        }\n        \n        yield put(shoppingListFetched({ item: response }))\n        return resolve(response);\n    }\n    catch(e){\n     \n        return reject(e);\n    }\n}\n\nexport default function* WatchHomePage() {\n    yield takeLatest(fetchShoppingList.type, shopping);\n\n}\n","import { all } from 'redux-saga/effects'\nimport WatchHomePage from './HomePage/saga';\n\nexport default function* () {\n    yield all([\n        WatchHomePage()\n    ])\n}\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit'\nimport createSagaMiddleware from 'redux-saga'\nimport rootReducer from './allReducers'\nimport rootSaga from './sagas';\n\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst store = configureStore({\n  reducer: rootReducer,\n  middleware: [...getDefaultMiddleware(), sagaMiddleware],\n  devTools: process.env.NODE_ENV !== 'production'\n})\n\nsagaMiddleware.run(rootSaga)\n\nexport default store;","module.exports = require(\"@babel/runtime/helpers/asyncToGenerator\");","module.exports = require(\"@babel/runtime/regenerator\");","module.exports = require(\"@reduxjs/toolkit\");","module.exports = require(\"express\");","module.exports = require(\"jsdom\");","module.exports = require(\"localstorage-polyfill\");","module.exports = require(\"react\");","module.exports = require(\"react-helmet\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-router-config\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"sessionstorage-polyfill\");","module.exports = require(\"path\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const Helmet = require('react-helmet').Helmet;\r\nconst createIsomorphicEnv = require('./browserEnv')\r\nconst express = require('express');\r\nconst PORT = process.env.PORT || 7789;\r\nconst app = express();\r\nconst serverRoutes = require('./routes');\r\nconst routes = require('routes/index').routes;\r\nconst matchRoutes = require('react-router-config').matchRoutes;\r\nconst render = require('./appHtml').default;\r\nconst store = require('store/index').default;\r\nconst fetchApiData = require('./apiFetch').default;\r\nconst jsdom = require(\"jsdom\");\r\nconst path = require('path')\r\n\r\ncreateIsomorphicEnv()\r\n\r\napp.get(serverRoutes, (req, res) => {\r\n\r\n    const branch = matchRoutes(routes, req.path) || [];\r\n\r\n    branch.forEach(async ({ route, match }) => {\r\n        if (route && route.actionGroup) {\r\n            try {\r\n                await new Promise((resolve, reject) => fetchApiData(store, match.params, route.actionGroup, resolve, reject));\r\n            }\r\n            catch (error) {\r\n\r\n            }\r\n\r\n            const appContent = render(req, routes);\r\n            const preloadedState = store.getState();\r\n\r\n            console.log(\"app Html\", appContent);\r\n            console.log(\"preloaded state\", preloadedState);\r\n            const { JSDOM } = jsdom;\r\n            const helmet = Helmet.renderStatic();\r\n    \r\n            JSDOM.fromFile(\"./build/index.html\").then(dom => {\r\n                dom.window.document.getElementById(\"root\").innerHTML = appContent;\r\n                dom.window.document.head.insertAdjacentHTML( 'beforeend', helmet.meta.toString())\r\n                console.log(\"dom content\", dom.serialize())\r\n                return res.send(dom.serialize());\r\n            });\r\n        }\r\n    });\r\n})\r\n\r\n\r\napp.listen(PORT, () => {\r\n    console.log(`Server is listening on port ${PORT}`);\r\n});\r\n"],"names":["params","actionGroup","resolve","reject","dispatch","actionList","results","Promise","all","map","caller","index","data","payload","console","log","error","require","req","routes","ReactDOMServer","Provider","store","StaticRouter","location","url","context","serverRender","renderRoutes","jsdom","module","exports","window","JSDOM","document","navigator","global","Helmet","name","content","path","component","useDispatch","shoppingList","useSelector","state","home","scrollTo","useEffect","fetchShoppingList","className","striped","bordered","hover","variant","site","id","username","action","exact","createAction","shoppingListFetched","shoppingListState","combineReducers","type","item","shopping","WatchHomePage","call","Api","response","put","takeLatest","sagaMiddleware","createSagaMiddleware","configureStore","reducer","rootReducer","middleware","getDefaultMiddleware","devTools","process","run","rootSaga","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","createIsomorphicEnv","express","PORT","env","app","serverRoutes","matchRoutes","render","fetchApiData","res","forEach","route","match","appContent","preloadedState","getState","helmet","renderStatic","fromFile","then","dom","getElementById","innerHTML","head","insertAdjacentHTML","meta","toString","serialize","send","listen"],"sourceRoot":""}